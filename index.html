
<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="css/style.css">
        <meta charset="utf-8">
        <title>Farm</title>
    </head>

    <body>
        <div class="menu"></div>
        <div class="indicators"></div>
        <div class="main"></div>
        <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script src="storage.js"></script>
        <script src="menu.js"></script>
        <script src="core.js"></script>
        <script src="time.js"></script>
		<script src="crop.js"></script>
        <script src="cell.js"></script>
        <script src="farm.js"></script>
        <script>
            $(document).ready(function() {farm.draw});
            $('html').click(function(event) { 
                   if(!$(event.target).closest('.resource').length && !$(event.target).closest('.cell').length ){
                        menu.active_item = null;      
                        console.log('active_item '+menu.active_item);
                   }
            });
            $(".cell").on('click', function(event){
                if(menu.active_item){
                    var x = $(this).data('x');
                    var y = $(this).data('y');
                    console.log('clicked on '+x+';'+y);
                    var crop = clone(crops[menu.active_item]);
                    console.log(crop);
                    farm.cells[x][y].plant(crop);
                }
                else {console.log('there is no active item')};
            });
            $(document).on('click', '.resource', function(event){
                var name = $(this).data('crop');
                menu.active_item = name;
                menu.draw();      
                console.log('active_item '+menu.active_item);
            });
        </script>
    </body>
</html>